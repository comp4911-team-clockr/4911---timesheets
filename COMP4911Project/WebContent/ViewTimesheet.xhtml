<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"  
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:b="http://bootsfaces.net/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets">
	<f:event listener="#{test.timesheetInit}" type="preRenderView"></f:event>
<h:head>
	<title>Timesheet</title>
	<h:outputStylesheet library="css" name="main.css" />
	<h:outputStylesheet name="css/default/icons.css" />
</h:head>
<h:body id="bgImage2">
	<h:form>
		<b:container>
			<div id="header">
				<ui:insert name="header">
					<ui:include src="CommonHeader.xhtml" />
				</ui:insert>
			</div>
		</b:container>
	</h:form>
	<h:form>
		<b:container styleClass="tableChange">
			<h1>Troublesome Timesheet</h1><br/>
      		<h:commandButton class="btn buttonColorizer" value="Back" action="#{test.cancelViewTimesheet}" immediate="true"></h:commandButton>
			<p></p>
			<h:dataTable id="test" styleClass="table roundTheCorners table-bordered j_idt19j_idt22Table dataTable no-footer" value="#{test.timesheet.timeSheetRows}"
				var="item" border="1">
				<h:column>
					<f:facet name="header">
						<h:outputText value="Rows" />
					</f:facet>
					<h:outputText value="#{test.getTimeSheetRowNumber(item)}" />
				</h:column>
				<h:column>
					<f:facet name="header">
						<h:outputText value="Project" />
					</f:facet>
					<h:outputText value="#{item.projectId}" />
				</h:column>
				<h:column>
					<f:facet name="header">
						<h:outputText value="WP" />
					</f:facet>
					<h:outputText value="#{item.workpackId}" />
				</h:column>
				<h:column>
					<f:facet name="header">
						<h:outputText value="Total" />
					</f:facet>
					<h:outputText value="#{item.weekTotalHrs}" />
					<f:facet name="footer">
						<h:outputText value="Total: #{test.timesheet.overallTotalHrs}" />
					</f:facet>
				</h:column>
				<h:column>
					<f:facet name="header">
						<h:outputText value="Saturday" />
					</f:facet>
					<h:outputText value="#{item.satHrs}" />
					<f:facet name="footer">
						<h:outputText value="Total: #{test.timesheet.satTotalHrs}" />
					</f:facet>
				</h:column>
				<h:column>
					<f:facet name="header">
						<h:outputText value="Sunday" />
					</f:facet>
					<h:outputText value="#{item.sunHrs}" />
					<f:facet name="footer">
						<h:outputText value="Total: #{test.timesheet.sunTotalHrs}" />
					</f:facet>
				</h:column>
				<h:column>
					<f:facet name="header">
						<h:outputText value="Monday" />
					</f:facet>
					<h:outputText value="#{item.monHrs}" />
					<f:facet name="footer">
						<h:outputText value="Total: #{test.timesheet.monTotalHrs}" />
					</f:facet>
				</h:column>
				<h:column>
					<f:facet name="header">
						<h:outputText value="Tuesday" />
					</f:facet>
					<h:outputText value="#{item.tuesHrs}" />
					<f:facet name="footer">
						<h:outputText value="Total: #{test.timesheet.tuesTotalHrs}" />
					</f:facet>
				</h:column>
				<h:column>
					<f:facet name="header">
						<h:outputText value="Wednesday" />
					</f:facet>
					<h:outputText value="#{item.wedHrs}" />
					<f:facet name="footer">
						<h:outputText value="Total: #{test.timesheet.wedTotalHrs}" />
					</f:facet>
				</h:column>
				<h:column>
					<f:facet name="header">
						<h:outputText value="Thursday" />
					</f:facet>
					<h:outputText value="#{item.thursHrs}" />
					<f:facet name="footer">
						<h:outputText value="Total: #{test.timesheet.thursTotalHrs}" />
					</f:facet>
				</h:column>
				<h:column>
					<f:facet name="header">
						<h:outputText value="Friday" />
					</f:facet>
					<h:outputText value="#{item.friHrs}" />
					<f:facet name="footer">
						<h:outputText value="Total: #{test.timesheet.friTotalHrs}" />
					</f:facet>
				</h:column>
				<h:column>
					<f:facet name="header">
						<h:outputText value="Flextime" />
					</f:facet>
					<h:outputText value="#{item.flexTimeHrs}" />
				</h:column>
				<h:column>
					<f:facet name="header">
						<h:outputText value="Vacation Days" />
					</f:facet>
					<h:outputText value="#{item.vacationDays}" />
				</h:column>
				<h:column>
					<f:facet name="header">
						<h:outputText value="Notes" />
					</f:facet>
					<h:outputText value="#{item.notes}" />
				</h:column>
			</h:dataTable>
			<h:commandButton styleClass="btn btn-default" value="Approve Timesheet" action="#{test.approveTimesheet(true)}"
			rendered="#{test.approve}"></h:commandButton>
			<h:commandButton styleClass="btn btn-default" value="Reject Timesheet" action="#{test.approveTimesheet(false)}"
			rendered="#{test.approve}"></h:commandButton>
		</b:container>
	</h:form>
</h:body>
</html>